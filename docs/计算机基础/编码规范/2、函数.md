# 函数

## 命名
函数越短小越好起名字  
长而具有描述性的名称比短而费解的名称要好  
当你觉得一个命名更好的时候，就要果决的换掉它
包含动词，表示事情发生    
见名知意  

## 参数
最好的参数是0，大于两个的参数建议改成options  

## 作用
- 用于转换
  接收参数，输出
- 改变系统状态
  系统：泛指上下文

## 内容
- 短小
  函数的第一规则是短小，第二规则是还要更短小  
  建议函数体不大于20行
  什么是短小，是代码行数？发散的来看无重复性的代码行数(有重复就要想办法去做一个复用)
- 单一职责  
  一个函数只做一件事，做好这件事情  
  结合短小，每个函数依序把你带到下一个函数  
  内部的缩进不应该大于一层或两层，如果出现了多层，那函数想表达的意思就存在多种，这时候就需要拆分成更小的函数，利用return来降低层级，异常或简单逻辑优先原则
  ```ts
  (value: string) => {
    if (value.length < 5) {
      // xxxxx
    } else {
      // xxxxx
      // xxxxx
      // xxxxx
      // xxxxx
    }
  }
  ```
  区段：同一代码体的不同代码块，每一块表达一段逻辑  
  ```ts
  (value: string) => {
    if (value.length < 5) {
      // xxxxx
      return;
    }

    // xxxxx
    // xxxxx
    // xxxxx
    // xxxxx
  }
  ```
- 每一个函数都要有自己的一个抽象层级
  这是保证函数短小和只做一件事情的要诀
  读代码是自顶向下的，每一层级的函数代码只做自己层级抽象的事情，不要跨级
- switch
  对于类，利用多态将switch埋藏在底层，上层的抽象都是相同的调用  
  写成配置型的，每次有新的状态只需要增加配置，配置中提供相同的接口，上层的配置调用的代码还是相同的  